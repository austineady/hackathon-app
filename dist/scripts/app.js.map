{"version":3,"sources":["main.js","router.js","models/business-model.js","views/business-view.js","views/company-lot-view.js","views/create-view.js","views/edit-view.js"],"names":[],"mappings":";;;;sBAAmB,UAAU;;;;AAE7B,CAAC,YAAU;AACT,cAAY,CAAC;;AAEb,GAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,YAAU;AAC1B,YAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;GAC1B,CAAC,CAAC;CACJ,CAAA,EAAG,CAAC;;;;;;;;;;;;;iCCRoB,uBAAuB;;;;+BACzB,qBAAqB;;;;6BACvB,mBAAmB;;;;mCACZ,0BAA0B;;;;mCAE1B,yBAAyB;;AAErD,IAAI,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC;AAClC,QAAM,EAAE;AACN,MAAE,EAAE,OAAO;AACX,aAAS,EAAE,SAAS;AACpB,eAAW,EAAE,WAAW;AACxB,cAAU,EAAE,UAAU;AACtB,uCAAmC,EAAE,oBAAoB;AACzD,qBAAiB,EAAE,YAAY;AAC/B,uBAAmB,EAAE,UAAU;GAChC;;AAED,OAAK,EAAE,iBAAW;AAChB,KAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;GACjC;;AAED,UAAQ,EAAE,oBAAW;AACnB,QAAI,IAAI,GAAG,yBAlBP,aAAa,CAmBjB,CACE;AACE,QAAE,EAAE,CAAC;AACL,aAAO,EAAE,WAAW;AACpB,gBAAU,EAAE,CAAC;AACb,UAAI,EAAE,WAAW;AACjB,aAAO,EAAE,gBAAgB;AACzB,qBAAe,EAAE,IAAI;AACrB,WAAK,EAAE,kBAAkB;AACzB,WAAK,EAAE,MAAM;KACd,EACD;AACA,QAAE,EAAE,CAAC;AACL,aAAO,EAAE,WAAW;AACpB,gBAAU,EAAE,CAAC;AACb,UAAI,EAAE,WAAW;AACjB,aAAO,EAAE,gBAAgB;AACzB,qBAAe,EAAE,IAAI;AACrB,WAAK,EAAE,kBAAkB;AACzB,WAAK,EAAE,MAAM;KACZ,EACD;AACA,QAAE,EAAE,CAAC;AACL,aAAO,EAAE,UAAU;AACnB,gBAAU,EAAE,CAAC;AACb,UAAI,EAAE,SAAS;AACf,aAAO,EAAE,gBAAgB;AACzB,qBAAe,EAAE,IAAI;AACrB,WAAK,EAAE,kBAAkB;AACzB,WAAK,EAAE,MAAM;KACZ,CACF,CACA,CAAC;AACF,QAAI,IAAI,GAAG,mCAAiB,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;AAChD,KAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;GACzB;;AAED,oBAAkB,EAAE,4BAAS,EAAE,EAAE;AAC/B,QAAI,IAAI,GAAG,yBAzDP,aAAa,CAyDY,CAC3B;AACE,QAAE,EAAE,CAAC;AACL,aAAO,EAAE,WAAW;AACpB,gBAAU,EAAE,CAAC;AACb,UAAI,EAAE,WAAW;AACjB,aAAO,EAAE,gBAAgB;AACzB,qBAAe,EAAE,IAAI;AACrB,WAAK,EAAE,kBAAkB;AACzB,WAAK,EAAE,MAAM;KACd,EACD;AACA,QAAE,EAAE,CAAC;AACL,aAAO,EAAE,WAAW;AACpB,gBAAU,EAAE,CAAC;AACb,UAAI,EAAE,WAAW;AACjB,aAAO,EAAE,gBAAgB;AACzB,qBAAe,EAAE,IAAI;AACrB,WAAK,EAAE,kBAAkB;AACzB,WAAK,EAAE,MAAM;KACZ,EACD;AACA,QAAE,EAAE,CAAC;AACL,aAAO,EAAE,UAAU;AACnB,gBAAU,EAAE,CAAC;AACb,UAAI,EAAE,SAAS;AACf,aAAO,EAAE,gBAAgB;AACzB,qBAAe,EAAE,IAAI;AACrB,WAAK,EAAE,kBAAkB;AACzB,WAAK,EAAE,MAAM;KACZ,CACF,CAAC,CAAC;AACH,QAAI,IAAI,GAAG,mCAAiB,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;AAChD,KAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;GACzB;;AAED,YAAU,EAAE,sBAAW;AACrB,QAAI,IAAI,GAAG,yBA9FP,aAAa,EA8Fa,CAAC;AAC/B,QAAI,IAAI,GAAG,iCAAe,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;AAC9C,KAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;GACzB;;AAED,UAAQ,EAAE,kBAAS,EAAE,EAAE;AACrB,QAAI,IAAI,GAAG,yBApGP,aAAa,CAoGY,CAC7B;AACE,QAAE,EAAE,CAAC;AACL,aAAO,EAAE,WAAW;AACpB,UAAI,EAAE,WAAW;AACjB,aAAO,EAAE,gBAAgB;AACzB,qBAAe,EAAE,IAAI;AACrB,WAAK,EAAE,kBAAkB;AACzB,WAAK,EAAE,MAAM;KACd,EACD;AACA,QAAE,EAAE,CAAC;AACL,aAAO,EAAE,WAAW;AACpB,UAAI,EAAE,WAAW;AACjB,aAAO,EAAE,gBAAgB;AACzB,qBAAe,EAAE,IAAI;AACrB,WAAK,EAAE,kBAAkB;AACzB,WAAK,EAAE,MAAM;KACZ,EACD;AACA,QAAE,EAAE,CAAC;AACL,aAAO,EAAE,UAAU;AACnB,UAAI,EAAE,SAAS;AACf,aAAO,EAAE,gBAAgB;AACzB,qBAAe,EAAE,IAAI;AACrB,WAAK,EAAE,kBAAkB;AACzB,WAAK,EAAE,MAAM;KACd,CACA,CAAC,CAAC;AACD,QAAI,IAAI,GAAG,+BAAa;AACtB,gBAAU,EAAE,IAAI;AAChB,WAAK,EAAE,EAAE;KACR,CAAC,CAAC;AACL,KAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;GACzB;CACF,CAAC,CAAC;;AAEH,IAAI,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;qBACX,MAAM;;;;;;;;;;;AC/IrB,IAAI,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;AAC9B,UAAQ,EAAE,oBAAW;AACnB,WAAO;AACL,UAAI,EAAE,EAAE;AACR,aAAO,EAAE,EAAE;AACX,qBAAe,EAAE,EAAE;AACnB,WAAK,EAAE,EAAE;AACT,WAAK,EAAE,EAAE;AACT,gBAAU,EAAE,IAAI,IAAI,EAAE;KACvB,CAAC;GACH;CACF,CAAC,CAAC;;AAEH,IAAI,aAAa,GAAG,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC;AAC7C,OAAK,EAAE,GAAG;AACV,KAAG,EAAE,gDAAgD;CACtD,CAAC,CAAC;;qBAEY,EAAC,GAAG,EAAH,GAAG,EAAE,aAAa,EAAb,aAAa,EAAC;;;;;;;;;;;;;;8BClBP,oBAAoB;;;;sBAC7B,aAAa;;;;qBAEjB,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;AAClC,UAAQ,EAAE,GAAG,CAAC,QAAQ;;AAEtB,QAAM,EAAE;AACN,6BAAyB,EAAE,eAAe;GAC3C;;AAED,YAAU,EAAE,sBAAW;AACrB,QAAI,CAAC,MAAM,EAAE,CAAC;GACf;;AAED,QAAM,EAAE,kBAAW;AACjB,QAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;GAChC;;AAED,eAAa,EAAE,uBAAS,CAAC,EAAE;AACzB,KAAC,CAAC,cAAc,EAAE,CAAC;AACnB,QAAI,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,GAAG,EAAE,CAAC;AACtD,QAAI,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAC,OAAO,EAAE,WAAW,EAAC,CAAC,CAAC;AAChE,QAAI,eAAe,GAAG,gCAAoB,EAAC,UAAU,EAAE,WAAW,EAAC,CAAC,CAAC;AACrE,KAAC,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;GAChD;CACF,CAAC;;;;;;;;;;;qBCzBa,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;AAClC,UAAQ,EAAE,GAAG,CAAC,WAAW;;AAEzB,YAAU,EAAE,sBAAW;AACrB,QAAI,CAAC,MAAM,EAAE,CAAC;GACf;;AAED,QAAM,EAAE,kBAAW;AACjB,QAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;GAC/C;CACF,CAAC;;;;;;;;;;;;;;sBCViB,aAAa;;;;qBAEjB,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;AAClC,UAAQ,EAAE,GAAG,CAAC,cAAc;;AAE5B,QAAM,EAAE;AACN,kCAA8B,EAAE,WAAW;GAC5C;;AAED,YAAU,EAAE,sBAAW;AACrB,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAC7B,QAAI,CAAC,MAAM,EAAE,CAAC;GACf;;AAED,QAAM,EAAE,kBAAW;AACjB,QAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;GAChC;;AAED,WAAS,EAAE,mBAAS,CAAC,EAAE;AACrB,KAAC,CAAC,cAAc,EAAE,CAAC;AACnB,QAAI,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC,GAAG,EAAE,CAAC;AACpD,QAAI,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC,0BAA0B,CAAC,CAAC,GAAG,EAAE,CAAC;AAC1D,QAAI,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,mCAAmC,CAAC,CAAC,GAAG,EAAE,CAAC;AAClE,QAAI,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC,GAAG,EAAE,CAAC;AACtD,QAAI,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC,GAAG,EAAE,CAAC;AACtD,QAAI,CAAC,UAAU,CAAC,MAAM,CAAC;AACrB,UAAI,EAAE,OAAO;AACb,aAAO,EAAE,UAAU;AACnB,qBAAe,EAAE,SAAS;AAC1B,WAAK,EAAE,QAAQ;AACf,WAAK,EAAE,QAAQ;KAChB,CAAC,CAAC;AACH,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAC7B,wBAAO,QAAQ,CAAC,UAAU,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;GAC9C;CACF,CAAC;;;;;;;;;;;;;;sBCnCiB,aAAa;;;;qBAEjB,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;AAClC,UAAQ,EAAE,GAAG,CAAC,QAAQ;;AAEtB,QAAM,EAAE;AACN,mCAA+B,EAAE,UAAU;AAC3C,oCAAgC,EAAE,WAAW;GAC9C;;AAED,YAAU,EAAE,sBAAW;AACrB,QAAI,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACrC,QAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AAC7C,QAAI,CAAC,MAAM,EAAE,CAAC;GACf;;AAED,QAAM,EAAE,kBAAW;AACjB,QAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;GAC1C;;AAED,UAAQ,EAAE,kBAAS,CAAC,EAAE;AACpB,KAAC,CAAC,cAAc,EAAE,CAAC;AACnB,QAAI,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,EAAE,CAAC;AAC7C,QAAI,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,GAAG,EAAE,CAAC;AACnD,QAAI,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,GAAG,EAAE,CAAC;AACjD,QAAI,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAG,EAAE,CAAC;AAC/C,QAAI,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAG,EAAE,CAAC;AAC/C,QAAI,CAAC,KAAK,CAAC,GAAG,CAAC;AACb,UAAI,EAAE,OAAO;AACb,aAAO,EAAE,UAAU;AACnB,qBAAe,EAAE,SAAS;AAC1B,WAAK,EAAE,QAAQ;AACf,WAAK,EAAE,QAAQ;KAChB,CAAC,CAAC;AACH,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACxB,wBAAO,QAAQ,CAAC,UAAU,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;GAC9C;;AAED,WAAS,EAAE,mBAAS,CAAC,EAAE;AACrB,KAAC,CAAC,cAAc,EAAE,CAAC;AACnB,QAAI,MAAM,GAAG,OAAO,CAAC,gEAAgE,CAAC,CAAC;AACvF,QAAG,MAAM,EAAE;AACT,UAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;AACrB,0BAAO,QAAQ,CAAC,UAAU,EAAE,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;KAC9C;GACF;CACF,CAAC","file":"app.js","sourcesContent":["import router from './router';\n\n(function(){\n  'use strict';\n\n  $(document).ready(function(){\n    Backbone.history.start();\n  });\n})();\n","import BusinessView from './views/business-view';\nimport CreateView from './views/create-view';\nimport EditView from './views/edit-view';\nimport CompanyLotsView from './views/company-lot-view';\n\nimport {LotCollection} from './models/business-model';\n\nvar Router = Backbone.Router.extend({\n  routes: {\n    '': 'index',\n    'parking': 'parking',\n    'attendant': 'attendant',\n    'business': 'business',\n    'business/company/:company_id/lots': 'displayCompanyLots',\n    'business/create': 'createForm',\n    'business/:id/edit': 'editForm'\n  },\n\n  index: function() {\n    $('#app').html(JST.application);\n  },\n\n  business: function() {\n    var lots = new LotCollection(\n    [\n      {\n        id: 1,\n        company: 'Park Corp',\n        company_id: 1,\n        name: 'Hackathon',\n        address: '101 North Main',\n        availableSpaces: '12',\n        hours: '8:00am to 6:00pm',\n        price: '5.00'\n      },\n      {\n      id: 2,\n      company: 'Park Corp',\n      company_id: 1,\n      name: 'Hackathon',\n      address: '101 North Main',\n      availableSpaces: '12',\n      hours: '8:00am to 6:00pm',\n      price: '5.00'\n      },\n      {\n      id: 3,\n      company: 'Lot Corp',\n      company_id: 2,\n      name: 'Bay Lot',\n      address: '101 South Main',\n      availableSpaces: '24',\n      hours: '8:00am to 6:00pm',\n      price: '7.00'\n      }\n    ]\n    );\n    var view = new BusinessView({collection: lots});\n    $('#app').html(view.el);\n  },\n\n  displayCompanyLots: function(id) {\n    var lots = new LotCollection([\n      {\n        id: 1,\n        company: 'Park Corp',\n        company_id: 1,\n        name: 'Hackathon',\n        address: '101 North Main',\n        availableSpaces: '12',\n        hours: '8:00am to 6:00pm',\n        price: '5.00'\n      },\n      {\n      id: 2,\n      company: 'Park Corp',\n      company_id: 1,\n      name: 'Hackathon',\n      address: '101 North Main',\n      availableSpaces: '12',\n      hours: '8:00am to 6:00pm',\n      price: '5.00'\n      },\n      {\n      id: 3,\n      company: 'Lot Corp',\n      company_id: 2,\n      name: 'Bay Lot',\n      address: '101 South Main',\n      availableSpaces: '24',\n      hours: '8:00am to 6:00pm',\n      price: '7.00'\n      }\n    ]);\n    var view = new BusinessView({collection: lots});\n    $('#app').html(view.el);\n  },\n\n  createForm: function() {\n    var lots = new LotCollection();\n    var view = new CreateView({collection: lots});\n    $('#app').html(view.el);\n  },\n\n  editForm: function(id) {\n    var lots = new LotCollection([\n    {\n      id: 1,\n      company: 'Park Corp',\n      name: 'Hackathon',\n      address: '101 North Main',\n      availableSpaces: '12',\n      hours: '8:00am to 6:00pm',\n      price: '5.00'\n    },\n    {\n    id: 2,\n    company: 'Park Corp',\n    name: 'Hackathon',\n    address: '101 North Main',\n    availableSpaces: '12',\n    hours: '8:00am to 6:00pm',\n    price: '5.00'\n    },\n    {\n    id: 3,\n    company: 'Lot Corp',\n    name: 'Bay Lot',\n    address: '101 South Main',\n    availableSpaces: '24',\n    hours: '8:00am to 6:00pm',\n    price: '7.00'\n  }\n  ]);\n    var view = new EditView({\n      collection: lots,\n      model: id\n      });\n    $('#app').html(view.el);\n  }\n});\n\nvar router = new Router();\nexport default router;\n","var Lot = Backbone.Model.extend({\n  defaults: function() {\n    return {\n      name: '',\n      address: '',\n      availableSpaces: '',\n      hours: '',\n      price: '',\n      created_at: new Date()\n    };\n  }\n});\n\nvar LotCollection = Backbone.Collection.extend({\n  model: Lot,\n  url: 'http://greenville-parking.com/companies/1/lots'\n});\n\nexport default {Lot, LotCollection};\n","import CompanyLotsView from './company-lot-view';\nimport router from './../router';\n\nexport default Backbone.View.extend({\n  template: JST.business,\n\n  events: {\n    'submit .business-search': 'searchCompany'\n  },\n\n  initialize: function() {\n    this.render();\n  },\n\n  render: function() {\n    this.$el.html(this.template());\n  },\n\n  searchCompany: function(e) {\n    e.preventDefault();\n    var companyName = this.$('.company-name-input').val();\n    var companyLots = this.collection.where({company: companyName});\n    var companyLotsView = new CompanyLotsView({collection: companyLots});\n    $('.company-results').html(companyLotsView.el);\n  }\n});\n","export default Backbone.View.extend({\n  template: JST.companylots,\n\n  initialize: function() {\n    this.render();\n  },\n\n  render: function() {\n    this.$el.html(this.template(this.collection));\n  }\n});\n","import router from './../router';\n\nexport default Backbone.View.extend({\n  template: JST.businesscreate,\n\n  events: {\n    'submit .business-create-form': 'saveModel'\n  },\n\n  initialize: function() {\n    console.log(this.collection);\n    this.render();\n  },\n\n  render: function() {\n    this.$el.html(this.template());\n  },\n\n  saveModel: function(e) {\n    e.preventDefault();\n    var lotName = this.$('.business-name-create').val();\n    var lotAddress = this.$('.business-address-create').val();\n    var lotSpaces = this.$('.business-available-spaces-create').val();\n    var lotHours = this.$('.business-hours-create').val();\n    var lotPrice = this.$('.business-price-create').val();\n    this.collection.create({\n      name: lotName,\n      address: lotAddress,\n      availableSpaces: lotSpaces,\n      hours: lotHours,\n      price: lotPrice\n    });\n    console.log(this.collection);\n    router.navigate('business', {trigger: true});\n  }\n});\n","import router from './../router';\n\nexport default Backbone.View.extend({\n  template: JST.editform,\n\n  events: {\n    'submit .company-lot-edit-form': 'saveEdit',\n    'click .company-lot-edit-delete': 'deleteLot'\n  },\n\n  initialize: function() {\n    var modelId = Number(this.model) - 1;\n    this.model = this.collection.models[modelId];\n    this.render();\n  },\n\n  render: function() {\n    this.$el.html(this.template(this.model));\n  },\n\n  saveEdit: function(e) {\n    e.preventDefault();\n    var lotName = this.$('.lot-name-edit').val();\n    var lotAddress = this.$('.lot-address-edit').val();\n    var lotSpaces = this.$('.lot-spaces-edit').val();\n    var lotHours = this.$('.lot-hours-edit').val();\n    var lotPrice = this.$('.lot-price-edit').val();\n    this.model.set({\n      name: lotName,\n      address: lotAddress,\n      availableSpaces: lotSpaces,\n      hours: lotHours,\n      price: lotPrice\n    });\n    console.log(this.model);\n    router.navigate('business', {trigger: true});\n  },\n\n  deleteLot: function(e) {\n    e.preventDefault();\n    var answer = confirm(\"Are you sure you want to delete this lot? This is irreversible\");\n    if(answer) {\n      this.model.destroy();\n      router.navigate('business', {trigger: true});\n    }\n  }\n});\n"],"sourceRoot":"/source/"}